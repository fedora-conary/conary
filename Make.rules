# -*- makefile -*-
#
# Copyright (c) 2004 Specifix, Inc.
# All rights reserved
#

PYTHON = python2.3

pyfiles-install:
	mkdir -p $(DESTDIR)$(conarydir)
	for f in $(python_files) $(bin_files); do \
		mkdir -p `dirname $(DESTDIR)/$(conarydir)/$(DIR)/$$f`; \
		cp -a $$f $(DESTDIR)/$(conarydir)/$(DIR)/$$f; \
	done

default-dist: dist-subdirs
	for f in $(dist_files); do \
		mkdir -p $(DISTDIR)/$(DIR)/`dirname $$f`; \
		cp -a $$f $(DISTDIR)/$(DIR)/$$f; \
	done

default-install:
	echo "nothing to install"

default-all:
	echo "nothing to build"

default-clean: clean-subdirs
	rm -f *~ .#* *.pyo *.pyc $(generated_files)

default-test:
	$(TESTSUITE) *.py

clean-subdirs:
ifdef SUBDIRS
	for d in $(SUBDIRS); do make -C $$d DIR=$(DIR)/$$d clean || exit 1; done
endif

install-subdirs:
ifdef SUBDIRS
	for d in $(SUBDIRS); do make -C $$d DIR=$(DIR)/$$d install || exit 1; done
endif

dist-subdirs:
ifdef SUBDIRS
	for d in $(SUBDIRS); do make -C $$d DIR=$(DIR)/$$d dist || exit 1; done
endif
