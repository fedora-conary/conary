#!/usr/bin/python2.3

import os
import sys

if os.path.dirname(sys.argv[0]):
    if sys.argv[0][0] == "/":
	fullPath = os.path.dirname(sys.argv[0])
    else:
	fullPath = os.getcwd() + "/" + os.path.dirname(sys.argv[0])
else:
    fullPath = os.getcwd()

sys.path.append(os.path.dirname(fullPath))
from filecontainer import FileContainer

f = open(sys.argv[1], "r")
c = FileContainer(f)
f.close()
if len(sys.argv) == 2:
    for n in c.fileList():
	print "%s (%s)" % (n, c.getTag(n))
elif len(sys.argv) == 3:
    f = c.getFile(sys.argv[2])
    sys.stdout.write(f.read())
    f.close
else:
    for file in sys.argv[2:]:
	print "--", file
	f = c.getFile(file)
	sys.stdout.write(f.read())
	print "---"
	f.close()
