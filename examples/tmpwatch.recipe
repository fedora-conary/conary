#
# Copyright (c) 2004 Specifix, Inc.
# All rights reserved
#

class tmpwatch(Recipe):
    description = """The tmpwatch utility recursively searches through specified
directories and removes files which have not been accessed in a
specified period of time. Tmpwatch is normally used to clean up
directories that are used for temporarily holding files (for example,
/tmp). Tmpwatch ignores symlinks, will not switch filesystems, and
only removes empty directories and regular files."""

    buildRequires = [ "glibc" ]
    runRequires = [ "cron" ]

    name = "tmpwatch"
    version = "2.9.0"
    rpmrevision = "2.1"

    def setup(self):
	self.addTarball("%s-%s.tar.gz" % (self.name, self.version))
	#self.addSourceFromRPM("ftp://ftp.redhat.com/pub/fedora/linux/core/development/SRPMS/%s-%s-%s" %(self.name, self.version, self.rpmrevision),
	#                      "%s-%s.tar.gz %(self.name, self.version))
	self.addSource("crond-tmpwatch")
	self.install = (build.MakeInstall(rootVar = "ROOT"),
			build.InstallFile("crond-tmpwatch", 
					  "/etc/cron.daily/tmpwatch", 0755))
