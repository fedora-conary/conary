#
# Copyright (c) 2004 Specifix, Inc.
# All rights reserved
#

class tmpwatch(PackageRecipe):

    buildRequires = [ "glibc" ]
    runRequires = [ "cron" ]

    name = "tmpwatch"
    version = "2.9.0"

    def setup(self):
	self.macros['rpmrevision'] = "2.1"
	# The canonical URL is "ftp://ftp.redhat.com/pub/fedora/linux/core/development/SRPMS/tmpwatch-%(version)s-%(rpmrevision)s.src.rpm"
	# but it is always too busy, so we'll go to a well-known mirror instead
	self.addArchiveFromRPM("http://www.gtlib.cc.gatech.edu/pub/fedora.redhat/linux/core/development/SRPMS/tmpwatch-%(version)s-%(rpmrevision)s.src.rpm", 
	                      "tmpwatch-%(version)s.tar.gz")
	self.addSource("crond-tmpwatch")

	self.Make()
	self.MakeInstall(rootVar = "ROOT")
	self.InstallFiles("crond-tmpwatch", 
		           "/etc/cron.daily/tmpwatch", mode=0755)
